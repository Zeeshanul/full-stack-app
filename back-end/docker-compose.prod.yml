version: '3.8'

services:
  backend:
    build:
      context: .
      dockerfile: Dockerfile.prod
    image: fullstack-backend:latest
    restart: always
    ports:
      - "${PORT:-3000}:3000"

# NOTE:
# - This file is used ONLY for building the production Docker image.
# - Environment variables are configured in the ECS Task Definition (lib/ecs-stack.ts).
# - Secrets are managed via AWS Parameter Store and Secrets Manager.
# - To build the image: `docker-compose -f docker-compose.prod.yml build`
